
  {% extends "base.html" %}

  {% block title %}Home - Dublin Bikes{% endblock %}
  
  {% block content %}


    <div class="container">

      <div class="sidebar">

        {% if session.user %}
          <p>You chose <strong>{{ default_station.name }}</strong> as your default station, can be changed in your profile settings.</p>
        {% else %}
          <p>Using <strong>{{ default_station.name }}</strong> as default location, sign in if you want to change it.</p>
        {% endif %}

        <button id="locationText">Select Location on the map</button>

        <div class="weather">
          <h3>Live Weather</h3>

          <p><strong>Temperature:</strong> {{ weather.temperature }}Â°C</p>
          <p><strong>Description:</strong> {{ weather.description }}</p>
          <p><strong>Sunrise:</strong> {{ weather.sunrise }}</p>
          <p><strong>Sunset:</strong> {{ weather.sunset }}</p>

        </div>
      </div>

      <div class="map">
        <!-- This div is the container where the map will be rendered -->
        <div id="map" style="height: 500px;"></div>
      </div>
  
      <!-- Embed the stations data into a global JS variable -->
      <script>
        const stations = {{ stations | tojson }};

        var defaultStation = {
        id: {{ default_station.station_id }},
       lat: {{ default_station.position_lat }},
       lng: {{ default_station.position_lng }}
      };
      </script>
    
      <!-- Load your custom script after defining 'stations' -->
      <script src="{{ url_for('static', filename='maps.js') }}"></script>
    
      <!-- Google Maps API script with callback to initMap -->
      <script src="https://maps.googleapis.com/maps/api/js?key={{ mapskey }}&callback=initMap" async defer></script>

    </div>

  </body>


  {% endblock %}
